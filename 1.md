# ä¸ªäººç¼–ç ä¸é¡¹ç›®ç®¡ç†ä¹ æƒ¯

> æœ¬æ–‡æ¡£å®šä¹‰äº†ç”¨æˆ·çš„ä¸ªäººå·¥ä½œä¹ æƒ¯å’Œé¡¹ç›®åå¥½  
> ç‰ˆæœ¬: 1.0  
> åˆ›å»ºæ—¥æœŸ: 2026-02-05

---

## ğŸŒ è¯­è¨€ä¸æ²Ÿé€šä¹ æƒ¯

### äº¤æµè¯­è¨€
- **ä¸»è¦è¯­è¨€**: ä¸­æ–‡ï¼ˆç®€ä½“ä¸­æ–‡ï¼‰
- **æŠ€æœ¯æœ¯è¯­**: ä¿ç•™è‹±æ–‡åŸæ–‡ï¼ˆå¦‚ componentã€APIã€CDN ç­‰ï¼‰
- **ä»£ç æ³¨é‡Š**: ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šï¼Œè§£é‡Šå¤æ‚é€»è¾‘

### æ²Ÿé€šé£æ ¼
- ç›´æ¥ã€ç®€æ´ï¼Œæ³¨é‡æ•ˆç‡
- æŠ€æœ¯è®¨è®ºæ—¶è¯¦ç»†ï¼Œæ—¥å¸¸äº¤æµæ—¶ç®€æ´
- é‡è§†æ–‡æ¡£å’Œè§„åˆ™çš„å®šä¹‰

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆåå¥½

### æ ¸å¿ƒæ¡†æ¶
| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Astro | 5.x | é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ |
| Svelte | 5.x | äº¤äº’å¼ç»„ä»¶æ¡†æ¶ |
| Tailwind CSS | 3.x | åŸå­åŒ– CSS æ¡†æ¶ |
| TypeScript | 5.x | ç±»å‹å®‰å…¨å¼€å‘ |

### å¼€å‘ç¯å¢ƒ
- **åŒ…ç®¡ç†å™¨**: pnpmï¼ˆå¼ºåˆ¶ä½¿ç”¨ï¼Œç¦æ­¢ npm/yarnï¼‰
- **Node.js**: >= 20ï¼ˆæ¨èä½¿ç”¨æœ€æ–° LTS ç‰ˆæœ¬ï¼‰
- **éƒ¨ç½²å¹³å°**: è…¾è®¯äº‘ EdgeOne Pages

---

## ğŸ“ ä»£ç é£æ ¼è§„èŒƒ

### å‘½åè§„èŒƒ

#### æ–‡ä»¶å‘½å
```
âœ… ç»„ä»¶æ–‡ä»¶: PascalCase.astro / PascalCase.svelte
   ä¾‹: Comment.astro, Search.svelte

âœ… å·¥å…·æ–‡ä»¶: camelCase.ts
   ä¾‹: setting-utils.ts, url-utils.ts

âœ… é…ç½®æ–‡ä»¶: kebab-case.json / .cjs / .mjs
   ä¾‹: edgeone.json, tailwind.config.cjs

âœ… é¡µé¢æ–‡ä»¶: [...slug].astro (åŠ¨æ€è·¯ç”±ä½¿ç”¨æ–¹æ‹¬å·)
```

#### å˜é‡å‘½å
```typescript
// âœ… ä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½å
const commentContainer = document.getElementById('tcomment');
const isDarkModeEnabled = false;

// âŒ é¿å…ç®€å†™
const el = ...;           // ä¸æ˜ç¡®
const flag = ...;         // å«ä¹‰ä¸æ¸…
```

#### ç»„ä»¶å‘½å
```typescript
// âœ… æè¿°æ€§å‘½å
<LightDarkSwitch />
<CommentSection />
<SearchPanel />

// âŒ é¿å…è¿‡äºç¬¼ç»Ÿ
<Switch />
<Section />
<Panel />
```

### ä»£ç æ³¨é‡Šé£æ ¼

#### æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š
```typescript
/**
 * åŠŸèƒ½æè¿°: è¯„è®ºç³»ç»Ÿç»„ä»¶
 * æŠ€æœ¯å®ç°: ä½¿ç”¨ Twikoo + Intersection Observer å»¶è¿ŸåŠ è½½
 * æ³¨æ„äº‹é¡¹: CDN åœ°å€å¯èƒ½éœ€æ ¹æ®ç½‘ç»œæƒ…å†µè°ƒæ•´
 */
```

#### å‡½æ•°æ³¨é‡Š
```typescript
/**
 * åˆå§‹åŒ– Twikoo è¯„è®ºç³»ç»Ÿ
 * @param container - è¯„è®ºå®¹å™¨å…ƒç´ 
 * @param config - Twikoo é…ç½®å¯¹è±¡
 * @returns åˆå§‹åŒ–æ˜¯å¦æˆåŠŸ
 */
function initTwikoo(container: HTMLElement, config: Config): boolean {
  // å®ç°ä»£ç 
}
```

#### è¡Œå†…æ³¨é‡Š
```typescript
// å¼ºåˆ¶ä½¿ç”¨äº®è‰²æ¨¡å¼ï¼Œç§»é™¤ dark ç±»
document.documentElement.classList.remove('dark');

// ä½¿ç”¨ Intersection Observer å®ç°å»¶è¿ŸåŠ è½½ï¼Œæå‡æ€§èƒ½
const observer = new IntersectionObserver(callback, options);
```

### ä»£ç ç»„ç»‡åŸåˆ™

#### æ€§èƒ½ä¼˜å…ˆ
```typescript
// âœ… å»¶è¿ŸåŠ è½½éå…³é”®èµ„æº
if ('IntersectionObserver' in window) {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        loadHeavyComponent();
        observer.disconnect();
      }
    });
  }, { rootMargin: '100px' });
}

// âœ… èµ„æºé¢„åŠ è½½å…³é”®èµ„æº
<link rel="dns-prefetch" href="https://cdn.example.com" />
```

#### é”™è¯¯å¤„ç†
```typescript
// âœ… å®Œå–„çš„é”™è¯¯å¤„ç†
try {
  const result = await fetchData();
  processResult(result);
} catch (error) {
  console.error('[ComponentName] Failed to fetch data:', error);
  // é™çº§å¤„ç†
  showFallbackUI();
}
```

---

## ğŸ“ é¡¹ç›®ç®¡ç†ä¹ æƒ¯

### æ–‡æ¡£é©±åŠ¨å¼€å‘

#### å¿…é¡»åˆ›å»ºçš„æ–‡æ¡£
```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ PROJECT_STRUCTURE.md          # é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆå¿…é¡»ï¼‰
â”œâ”€â”€ .trae/
â”‚   â”œâ”€â”€ rules/
â”‚   â”‚   â””â”€â”€ project_rules.md      # AI æ“ä½œè§„åˆ™ï¼ˆå¿…é¡»ï¼‰
â”‚   â””â”€â”€ skills/
â”‚       â””â”€â”€ [skill-name]/
â”‚           â””â”€â”€ SKILL.md          # Skill å®šä¹‰ï¼ˆå¦‚éœ€è¦ï¼‰
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜
```

#### æ–‡æ¡£æ›´æ–°è¦æ±‚
- **æ–‡ä»¶ç»“æ„å˜æ›´** â†’ æ›´æ–° PROJECT_STRUCTURE.md
- **é…ç½®ä¿®æ”¹** â†’ æ›´æ–°å¯¹åº”é…ç½®è¯´æ˜
- **åŠŸèƒ½å¯ç”¨/ç¦ç”¨** â†’ æ›´æ–°åŠŸèƒ½çŠ¶æ€åˆ—è¡¨
- **ä¾èµ–å˜æ›´** â†’ æ›´æ–°ä¾èµ–ç‰ˆæœ¬ä¿¡æ¯

### å¼€å‘å·¥ä½œæµç¨‹

#### æ ‡å‡†æµç¨‹
```
1. éœ€æ±‚åˆ†æ
   â””â”€ ç†è§£ç”¨æˆ·éœ€æ±‚çš„æœ¬è´¨

2. æ–‡æ¡£æŸ¥é˜…
   â””â”€ é˜…è¯» PROJECT_STRUCTURE.md
   â””â”€ äº†è§£é¡¹ç›®æ¶æ„å’Œçº¦æŸ

3. æ–¹æ¡ˆè®¾è®¡
   â””â”€ è§„åˆ’å®ç°æ–¹æ¡ˆ
   â””â”€ ç¡®å®šå½±å“èŒƒå›´

4. ä»£ç å®ç°
   â””â”€ ç¼–å†™ä»£ç 
   â””â”€ éµå¾ªå‘½åå’Œæ³¨é‡Šè§„èŒƒ

5. æœ¬åœ°æµ‹è¯•ï¼ˆå¿…é¡»ï¼‰
   â””â”€ pnpm build
   â””â”€ pnpm preview
   â””â”€ éªŒè¯åŠŸèƒ½æ­£å¸¸

6. æ–‡æ¡£æ›´æ–°
   â””â”€ æ›´æ–° PROJECT_STRUCTURE.md
   â””â”€ è®°å½•å˜æ›´æ—¥å¿—

7. æäº¤éƒ¨ç½²
   â””â”€ git commit
   â””â”€ git push
   â””â”€ è‡ªåŠ¨éƒ¨ç½²åˆ° EdgeOne
```

### æµ‹è¯•è¦æ±‚

#### æ„å»ºæµ‹è¯•ï¼ˆå¼ºåˆ¶ï¼‰
```bash
# æ¯æ¬¡ä¿®æ”¹åå¿…é¡»æ‰§è¡Œ
pnpm build    # ç¡®ä¿æ„å»ºæˆåŠŸï¼Œæ— é”™è¯¯
pnpm preview  # æœ¬åœ°é¢„è§ˆï¼ŒéªŒè¯åŠŸèƒ½
```

#### éªŒè¯æ¸…å•
- [ ] æ„å»ºæ— é”™è¯¯
- [ ] é¡µé¢æ­£å¸¸æ˜¾ç¤º
- [ ] äº¤äº’åŠŸèƒ½æ­£å¸¸
- [ ] æ§åˆ¶å°æ— æŠ¥é”™
- [ ] æ€§èƒ½æ— æ˜æ˜¾ä¸‹é™

---

## ğŸ¨ ç‰¹å®šåå¥½

### UI/UX åå¥½

#### å¼ºåˆ¶ç™½è‰²æ¨¡å¼
```typescript
// ç¦ç”¨æš—é»‘æ¨¡å¼ï¼Œå¼ºåˆ¶ä½¿ç”¨ç™½è‰²ä¸»é¢˜
// ç›¸å…³æ–‡ä»¶:
// - src/layouts/Layout.astro
// - src/components/Navbar.astro
// - src/utils/setting-utils.ts
```

#### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥
```typescript
// 1. å»¶è¿ŸåŠ è½½éå…³é”®ç»„ä»¶
// 2. ä½¿ç”¨ CDN åŠ è½½ç¬¬ä¸‰æ–¹èµ„æº
// 3. å›¾ç‰‡æ‡’åŠ è½½
// 4. ä»£ç åˆ†å‰²
// 5. èµ„æºå†…è”ï¼ˆå°æ–‡ä»¶ï¼‰
```

### å¤–éƒ¨èµ„æºåŠ è½½

#### CDN é€‰æ‹©ä¼˜å…ˆçº§
1. **zstatic** - é¦–é€‰ï¼Œå›½å†…é€Ÿåº¦å¿«
2. **npmmirror** - å›½å†…é•œåƒï¼Œç¨³å®š
3. **jsDelivr** - å›½é™… CDNï¼Œå¤‡ç”¨

#### å½“å‰é…ç½®
```typescript
// Twikoo è¯„è®ºç³»ç»Ÿ
const TWIKOO_CDN = 'https://s4.zstatic.net/npm/twikoo@1.6.44/dist/twikoo.min.js';

// å¤´åƒæœåŠ¡
const AVATAR_SERVICE = 'https://weavatar.com';
```

### ç¼“å­˜ç­–ç•¥

#### æµè§ˆå™¨ç¼“å­˜ï¼ˆç”± edgeone.json é…ç½®ï¼‰
```json
{
  "/assets/*": "public, max-age=31536000, immutable",
  "/*.html": "public, max-age=28800, must-revalidate",
  "/pagefind/*": "public, max-age=86400, must-revalidate"
}
```

---

## ğŸ”§ å·¥å…·é…ç½®ä¹ æƒ¯

### ç¼–è¾‘å™¨é…ç½®
- **é¦–é€‰ IDE**: Trae / VSCode
- **ä»£ç æ ¼å¼åŒ–**: Biome
- **ç±»å‹æ£€æŸ¥**: TypeScript

### ä»£ç è´¨é‡å·¥å…·
```bash
pnpm format   # è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç 
pnpm lint     # ä»£ç è§„èŒƒæ£€æŸ¥
```

### æ„å»ºä¼˜åŒ–é…ç½®
```javascript
// astro.config.mjs
build: {
  cssCodeSplit: true,      // CSS ä»£ç åˆ†å‰²
  assets: 'assets',        // èµ„æºç›®å½•
}

vite: {
  build: {
    minify: 'terser',      // ä½¿ç”¨ Terser å‹ç¼©
    cssMinify: 'esbuild',  // CSS å‹ç¼©
    assetsInlineLimit: 4096, // 4KB å†…è”é˜ˆå€¼
  }
}
```

---

## ğŸ“¦ ç‰ˆæœ¬æ§åˆ¶ä¹ æƒ¯

### æäº¤è§„èŒƒ

#### æäº¤ä¿¡æ¯æ ¼å¼
```
<type>: <subject>

<body>
```

#### ç±»å‹è¯´æ˜
| ç±»å‹ | ç”¨é€” |
|------|------|
| feat | æ–°åŠŸèƒ½ |
| fix | ä¿®å¤é”™è¯¯ |
| docs | æ–‡æ¡£æ›´æ–° |
| style | ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰|
| refactor | é‡æ„ |
| perf | æ€§èƒ½ä¼˜åŒ– |
| chore | æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜åŠ¨ |

#### ç¤ºä¾‹
```bash
git commit -m "fix: ä¿®å¤è¯„è®ºç³»ç»Ÿ CDN åŠ è½½å¤±è´¥é—®é¢˜

- å°† CDN ä» jsDelivr æ›´æ¢ä¸º zstatic
- æ›´æ–° Twikoo ç‰ˆæœ¬åˆ° 1.6.44
- æµ‹è¯•éªŒè¯åŠ è½½æ­£å¸¸"
```

### åˆ†æ”¯ç®¡ç†
- **ä¸»åˆ†æ”¯**: main / master
- **å¼€å‘æµç¨‹**: ç›´æ¥åœ¨ä¸»åˆ†æ”¯å¼€å‘ï¼ˆä¸ªäººé¡¹ç›®ï¼‰
- **æäº¤å‰**: å¿…é¡»æœ¬åœ°æ„å»ºæµ‹è¯•é€šè¿‡

---

## ğŸš€ éƒ¨ç½²æµç¨‹

### éƒ¨ç½²å¹³å°
**è…¾è®¯äº‘ EdgeOne Pages**

### è‡ªåŠ¨éƒ¨ç½²è§¦å‘æ¡ä»¶
- ä»£ç æ¨é€åˆ° Git ä»“åº“
- è‡ªåŠ¨è§¦å‘ EdgeOne Pages æ„å»º

### éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•
- [ ] `pnpm build` æˆåŠŸ
- [ ] `pnpm preview` åŠŸèƒ½æ­£å¸¸
- [ ] PROJECT_STRUCTURE.md å·²æ›´æ–°
- [ ] å˜æ›´æ—¥å¿—å·²è®°å½•
- [ ] edgeone.json é…ç½®æ­£ç¡®

### éƒ¨ç½²é…ç½®å…³é”®é¡¹
```json
{
  "buildCommand": "pnpm run build",
  "outputDirectory": "./dist",
  "nodeVersion": "24.5.0"
}
```

---

## âš ï¸ çº¦æŸä¸ç¦æ­¢

### ä¸¥æ ¼ç¦æ­¢
| ç¦æ­¢é¡¹ | è¯´æ˜ |
|--------|------|
| ä½¿ç”¨ npm/yarn | å¼ºåˆ¶ä½¿ç”¨ pnpm |
| æœªç»æµ‹è¯•æäº¤ | å¿…é¡»æœ¬åœ°æ„å»ºæµ‹è¯• |
| æ¢å¤æš—é»‘æ¨¡å¼ | å·²å¼ºåˆ¶ç¦ç”¨ï¼Œç¦æ­¢æ¢å¤ |
| ä¿®æ”¹ edgeone.json ç¼“å­˜ | é™¤éæ˜ç¡®è¦æ±‚ |
| å¿½ç•¥æ–‡æ¡£æ›´æ–° | æœ‰å˜æ›´å¿…é¡»åŒæ­¥æ–‡æ¡£ |

### å¿…é¡»æ‰§è¡Œ
| å¿…é¡»é¡¹ | è¯´æ˜ |
|--------|------|
| æœ¬åœ°æ„å»ºæµ‹è¯• | pnpm build && pnpm preview |
| æ›´æ–° PROJECT_STRUCTURE.md | ç»“æ„/é…ç½®å˜æ›´æ—¶ |
| è®°å½•å˜æ›´æ—¥å¿— | æ¯æ¬¡ä¿®æ”¹å |
| ä½¿ç”¨å»¶è¿ŸåŠ è½½ | éå…³é”®ç»„ä»¶ |
| é”™è¯¯å¤„ç† | å®Œå–„çš„ try-catch |

---

## ğŸ“š å‚è€ƒèµ„æº

### å¸¸ç”¨æ–‡æ¡£
- [Astro æ–‡æ¡£](https://docs.astro.build/)
- [Svelte æ–‡æ¡£](https://svelte.dev/docs)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/docs)
- [Twikoo æ–‡æ¡£](https://twikoo.js.org/)
- [EdgeOne Pages æ–‡æ¡£](https://edgeone.ai/)

### é¡¹ç›®ç‰¹å®šæ–‡æ¡£
- PROJECT_STRUCTURE.md - é¡¹ç›®ç»“æ„è¯´æ˜
- .trae/rules/project_rules.md - AI æ“ä½œè§„åˆ™

---

## ğŸ”„ è§„åˆ™ç»´æŠ¤

- **è§„åˆ™ç‰ˆæœ¬**: 1.0
- **åˆ›å»ºæ—¥æœŸ**: 2026-02-05
- **ç»´æŠ¤è´£ä»»**: AI åŠ©æ‰‹æ ¹æ®ç”¨æˆ·ä¹ æƒ¯æ›´æ–°
- **æ›´æ–°é¢‘ç‡**: éšç”¨æˆ·ä¹ æƒ¯å˜åŒ–æ›´æ–°

---

*æœ¬æ–‡æ¡£æ—¨åœ¨ç¡®ä¿ AI åŠ©æ‰‹ç†è§£ç”¨æˆ·çš„ä¸ªäººä¹ æƒ¯ï¼Œæä¾›ä¸€è‡´ã€é«˜è´¨é‡çš„æœåŠ¡ã€‚*
