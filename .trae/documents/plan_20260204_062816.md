# 修复主页图片不显示和spec页面访问不到的问题

## 问题分析

通过分析构建日志和代码，我发现两个主要问题：

### 1. Spec页面访问不到的问题

**错误表现**：用户访问 `https://544.hhj520.top/spec/page-1770175976.599339/` 时页面不存在

**原因分析**：
- 构建输出的路径是 `/spec/page-1770175976599339/index.html`（注意点被移除了）
- 用户访问的路径包含点 `page-1770175976.599339`
- Astro 在生成 slug 时默认会移除文件名中的点

### 2. 主页图片不显示的问题

**错误表现**：主页没有显示帖子的封面图片

**可能原因**：
- 帖子文件可能缺少 `image` 字段
- 图片路径配置不正确
- 构建过程中图片处理有问题

## 修复方案

### 1. 修复 Spec 页面访问问题

**方案**：修改 `src/pages/spec/[...slug].astro` 文件，调整 slug 处理逻辑

**具体步骤**：
- 在 `getStaticPaths` 函数中，确保生成的 slug 包含原始文件名的点
- 或者修改构建配置，允许 slug 中包含点

### 2. 修复主页图片不显示问题

**方案**：检查并修复帖子的 `image` 字段配置

**具体步骤**：
- 检查帖子文件是否包含有效的 `image` 字段
- 确保图片路径格式正确
- 验证构建过程是否正确处理了图片

## 实施计划

1. **修改 spec 页面的 slug 处理逻辑**：
   - 编辑 `src/pages/spec/[...slug].astro` 文件
   - 确保生成的路径与用户访问的路径一致

2. **检查并修复帖子的图片配置**：
   - 检查几个主要帖子文件的 `image` 字段
   - 确保图片路径正确配置

3. **重新构建并验证**：
   - 运行 `npm run build` 重新构建项目
   - 验证 spec 页面是否可以正常访问
   - 验证主页图片是否正确显示

4. **部署并测试**：
   - 将修复后的代码部署到服务器
   - 测试 `https://544.hhj520.top/spec/page-1770175976.599339/` 是否可以访问
   - 测试主页图片是否正常显示